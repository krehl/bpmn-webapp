@(message: String, user: Option[User], id: String)(implicit request: RequestHeader, messages: Messages)
@main(Messages("bpmn.modeler.title"), user) {

    <!--
        Modellierfunktion in BPMN zum Zeichnen der Graphen.
        HauptflÃ¤che mit Elementen.
        CSS = canvas in main.css
    -->


    <style>
    [v-cloak] {
        display: none;
    }
    </style>


    <div id="app">
        <div v-cloak>
            <h1 style="margin: 10px;">{{title}}</h1>
        </div>
    </div>




    @if(user.isDefined) {
        <div id="navigation">@navigation()</div>
    }


    <div id="canvas" class="container-fluid"></div>
    <script>
            bpmn_id = "@id";
        console.log(bpmn_id);
    </script>

    <script type="text/javascript" src="https://vuejs.org/js/vue.js" ></script>
    <script>
            var router = jsRoutes.controllers.BPMNDiagramController.retrieve(window.bpmn_id);
            $.ajax({
                url: router.url,
                type: router.type,
                cache: false,
                success: function (response) {
                    console.log(response);
                    window.bpmn_id = response.id;
                    app = new Vue({ el: '#app',
                        data: {
                            title: response.name,
                            description: response.description,
                            owner: response.owner,
                            id: response.id
                        }});

                },
                error: function (xhr, ajaxOptions, thrownError) {
                    console.log(xhr.status);
                    console.log(thrownError);
                }
            });
        $('#app h1').on('click',function(event){
            var title = prompt('Process Title:',app.title);
            app.title = title;
        })



    </script>

}